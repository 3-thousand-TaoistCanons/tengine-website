<!DOCTYPE html><html lang="cn" dir="ltr" class="no-js" data-env="dev-env"><head><meta charset="utf-8"><meta name="renderer" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="Designed by 阿里云UED AX"><title>Tengine/Nginx module for tsar - The Tengine Web Server</title><meta name="description" content="&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;tsar&amp;#x6A21;&amp;#x5757;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x4ECE;Tengine/Nginx&amp;#x7AEF;&amp;#x91C7;&amp;#x96C6;&amp;#x6570;&amp;#x636E;.&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6E90;&amp;#x658"><meta property="og:type" content="article"><meta property="og:title" content="Tengine/Nginx module for tsar"><meta property="og:url" content="http://tengine.taobao.org/document_cn/module_for_tsar_cn.html"><meta property="og:site_name" content="The Tengine Web Server"><meta property="og:description" content="&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;tsar&amp;#x6A21;&amp;#x5757;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x4ECE;Tengine/Nginx&amp;#x7AEF;&amp;#x91C7;&amp;#x96C6;&amp;#x6570;&amp;#x636E;.&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6E90;&amp;#x658"><meta property="og:updated_time" content="2016-12-02T03:55:19.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Tengine/Nginx module for tsar"><meta name="twitter:description" content="&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;tsar&amp;#x6A21;&amp;#x5757;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x4ECE;Tengine/Nginx&amp;#x7AEF;&amp;#x91C7;&amp;#x96C6;&amp;#x6570;&amp;#x636E;.&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x4E0B;&amp;#x8F7D;&amp;#x6E90;&amp;#x658"><link rel="alternate" href="/atom.xml" title="The Tengine Web Server" type="application/atom+xml"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/main.css"></head><body class="page-is-loading"><div class="fluid-container global-header"><div class="container"><div class="header clearfix"><nav id="nav-menu"><ul class="nav nav-pills pull-right"><li role="presentation"><a class="menu-item" href="/download.html">下载</a></li><li role="presentation"><a class="menu-item" href="/source.html">源码</a></li><li role="presentation"><a class="menu-item" href="/documentation.html">文档</a></li><li role="presentation"><a class="menu-item" href="/faq.html">FAQ</a></li><li role="presentation"><a class="menu-item" href="/contact.html">联系我们</a></li><li role="presentation"><a class="menu-item" href="http://tengine.taobao.org/book/">教程</a></li><li role="presentation" class="hide"><a href="#"><i class="fa fa-bars" aria-hidden="true"></i></a></li></ul></nav><h1 class="text-muted site-logo"><a href="/" id="logo">The Tengine Web Server</a></h1></div></div></div><div class="outer"><section id="main"><div class="fluid-container"><div class="container"><article id="post-document_cn/module_for_tsar_cn" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">Tengine/Nginx module for tsar</h1></header><div class="article-entry" itemprop="articleBody"><p>&#x8FD9;&#x662F;&#x4E00;&#x4E2A;tsar&#x6A21;&#x5757;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4ECE;Tengine/Nginx&#x7AEF;&#x91C7;&#x96C6;&#x6570;&#x636E;.</p><h1 id="&#x6E90;&#x6587;&#x4EF6;"><a href="#&#x6E90;&#x6587;&#x4EF6;" class="headerlink" title="&#x6E90;&#x6587;&#x4EF6;"></a>&#x6E90;&#x6587;&#x4EF6;</h1><p>&#x4E0B;&#x8F7D;&#x6E90;&#x6587;&#x4EF6; (<a href="https://github.com/taobao/tsar-mod_nginx" target="_blank" rel="external">https://github.com/taobao/tsar-mod_nginx</a>)</p><h1 id="&#x4F7F;&#x7528;&#x6307;&#x5357;"><a href="#&#x4F7F;&#x7528;&#x6307;&#x5357;" class="headerlink" title="&#x4F7F;&#x7528;&#x6307;&#x5357;"></a>&#x4F7F;&#x7528;&#x6307;&#x5357;</h1><ol><li><p>&#x5B89;&#x88C5; <a href="http://code.taobao.org/p/tsar/src/" target="_blank" rel="external">tsar</a>.</p></li><li><p>&#x4F7F;&#x7528;tsar&#x7684;&#x6A21;&#x5757;&#x5F00;&#x53D1;&#x5DE5;&#x5177;<a href="http://code.taobao.org/p/tsar/src/trunk/devel/tsardevel" target="_blank" rel="external">tsardevel</a>&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x6A21;&#x677F;.(see tsar <a href="http://code.taobao.org/p/tsar/wiki/mod/" target="_blank" rel="external">wiki</a>)</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tsardevel mod_ngx</div></pre></td></tr></table></figure><ol><li>&#x66FF;&#x6362;&#x6A21;&#x677F;&#x4E2D;&#x7684;mod_ngx.c.</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">make</div><div class="line">make install</div></pre></td></tr></table></figure><ol><li>&#x542F;&#x52A8;tsar.</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tsar --nginx</div></pre></td></tr></table></figure><h1 id="&#x914D;&#x7F6E;"><a href="#&#x914D;&#x7F6E;" class="headerlink" title="&#x914D;&#x7F6E;"></a>&#x914D;&#x7F6E;</h1><ol><li>&#x9ED8;&#x8BA4;&#x91C7;&#x96C6;&#x5730;&#x5740;&#x548C;&#x7AEF;&#x53E3;&#x5206;&#x522B;&#x4E3A;127.0.0.1,80&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6765;&#x4FEE;&#x6539;:</li></ol><p><strong>example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">export NGX_TSAR_HOST=192.168.0.1</div><div class="line">export NGX_TSAR_PORT=8080</div></pre></td></tr></table></figure><ol><li>Tengine/Nginx&#x5FC5;&#x987B;&#x7F16;&#x8BD1;&#x4E86;stub_status&#x6A21;&#x5757;&#xFF0C;&#x800C;&#x4E14;&#x5FC5;&#x987B;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x7C7B;&#x4F3C;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A;</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">location = /nginx_status {</div><div class="line">stub_status on;</div><div class="line">}</div></pre></td></tr></table></figure><ol><li>&#x53E6;&#x5916;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;unix&#x57DF;&#x5957;&#x63A5;&#x5B57;&#xFF0C;&#x6BD4;&#x5982;&#x5C06;NGX_TSAR_HOST&#x6307;&#x5B9A;&#x4E3A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF1A;</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export NGX_TSAR_HOST=/tmp/nginx-tsar.sock</div></pre></td></tr></table></figure><p>&#x540C;&#x65F6;&#xFF0C;Tengine/Nginx&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5305;&#x542B;location /nginx_status&#x7684;server&#x4E5F;&#x5FC5;&#x987B;&#x662F;&#x76D1;&#x542C;&#x5728;&#x8BE5;&#x57DF;&#x5957;&#x63A5;&#x53E3;&#x8DEF;&#x5F84;&#x4E0A;</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">listen unix:/tmp/nginx-tsar.sock;</div></pre></td></tr></table></figure><ol><li>tsar&#x6A21;&#x5757;&#x53D1;&#x9001;&#x7ED9;Tengine/Nginx&#x7684;uri&#x548C;&#x4E3B;&#x673A;&#x540D;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5982;&#x4E0B;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#xFF1A;</li></ol><p><strong>example:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">export NGX_TSAR_SERVER_NAME=status.taobao.com</div><div class="line">export NGX_TSAR_URI=/nginx_status</div></pre></td></tr></table></figure></div></div></article></div></div></section></div><div class="fluid-container global-footer"><div class="container"><div class="row"><div class="col-lg-6"><div class="footer-logo"></div></div><div class="col-lg-6 clearfix"><select class="lang-switch pull-right"></select></div></div><div class="row"><div class="col-lg-12"><span class="footer-text copyright">&copy; 2011-2016 Alibaba Inc. All rights reserved.</span> <span class="footer-text design-by">Designed by 阿里云UED AX</span></div></div></div></div><script src="/js/jquery.min.js"></script><script src="/js/particles.min.js"></script><script src="/js/app.min.js"></script></body></html>